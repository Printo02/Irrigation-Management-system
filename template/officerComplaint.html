{% extends 'officerbase.html' %} {% block content %}
<style>
	th,
	td {
		padding: 10px;
	}
</style>
<div class="container">
	<h1 class="text-center mt-3">Complaints</h1>

	<table class="table table-bordered table-striped table-secondary table-hover ">
		<tr>
			<th>ID</th>
			<th>SUBJECT</th>
			<th>DESCRIPTION</th>
			<th>NAME</th>
			<th>ADDRESS</th>
			<th>CONTACT</th>
			<th>Action</th>
		</tr>
		{% for d in data %}
		<tr>
			<td>{{d.id}}</td>
			<td>{{d.subject}}</td>
			<td>{{d.desc}}</td>
			<td>{{d.farmer.name}}</td>
			<td>{{d.farmer.address}}</td>
			<td>{{d.farmer.phone}}</td>
			<td>
				{% if d.status == 'Pending' %}
				<a href="/officerUpdateComplaintStatus?id={{d.id}}&status=Responded" class="btn btn-primary">Respond</a>
				<a href="/officerUpdateComplaintStatus?id={{d.id}}&status=Invalid" class="btn btn-danger">Invalid</a>
				{% else %} {{d.status}} {% endif %}
			</td>
		</tr>
		{% endfor %}
	</table>
</div>
<script>
	var msg = '{{msg}}';
	if (msg != '') alert(msg);
</script>
{% endblock %}
